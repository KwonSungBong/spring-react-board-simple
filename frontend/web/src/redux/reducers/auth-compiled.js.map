{"version":3,"sources":["auth.js"],"names":[],"mappings":"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","file":"auth-compiled.js","sourcesContent":["/**\n * Created by gwonseongbong on 8/10/16.\n */\n\nconst AUTH_LOAD =  'auth/AUTH_LOAD';\nconst AUTH_LOAD_SUCCESS = 'auth/AUTH_LOAD_SUCCESS';\nconst AUTH_LOAD_FAIL = 'auth/AUTH_LOAD_FAIL';\n\nconst AUTH_TOKEN = 'auth/AUTH_TOKEN';\nconst AUTH_TOKEN_SUCCESS = 'auth/AUTH_TOKEN_SUCCESS';\nconst AUTH_TOKEN_FAIL = 'auth/AUTH_TOKEN_FAIL';\n\nconst LOGIN = 'auth/LOGIN';\nconst LOGIN_SUCCESS = 'auth/LOGIN_SUCCESS';\nconst LOGIN_FAIL = 'auth/LOGIN_FAIL';\n\nconst LOGOUT = 'auth/LOGOUT';\nconst LOGOUT_SUCCESS = 'auth/LOGOUT_SUCCESS';\nconst LOGOUT_FAIL = 'auth/LOGOUT_FAIL';\n\nconst initialState = {\n    loaded: false\n}\n\nexport default function reducer(state = initialState, action = {}) {\n    switch(action.type){\n        case AUTH_LOAD:\n            return {\n                ...state,\n                loading: true\n            }\n        case AUTH_LOAD_SUCCESS:\n            if(action.result.email) {\n                return {\n                    ...state,\n                    loading: false,\n                    loaded: true,\n                    user: action.result\n                }\n            }\n\n            return {\n                ...state,\n                loading: false,\n                loaded: false\n            }\n        case AUTH_LOAD_FAIL:\n            return {\n                ...state\n            }\n        case AUTH_TOKEN:\n            return {\n                ...state\n            }\n        case AUTH_TOKEN_SUCCESS:\n            return {\n                ...state,\n                token: action.result.token\n            }\n        case LOGIN:\n            return {\n                ...state\n            }\n        case LOGIN_SUCCESS:\n            return {\n                ...state,\n                loaded: true,\n                user: action.result\n            }\n        case LOGIN_FAIL:\n            return {\n                ...state\n            }\n        case LOGOUT:\n            return {\n                ...state\n            }\n        case LOGOUT_SUCCESS:\n        case LOGOUT_FAIL:\n            return {\n                ...state,\n                user: null,\n                token: null,\n                loaded: false\n            }\n        default:\n            return state;\n    }\n}\n\nexport function isLoaded(globalState) {\n    return globalState.auth && globalState.auth.loaded;\n}\n\nexport function load(){\n    return {\n        types: [AUTH_LOAD, AUTH_LOAD_SUCCESS, AUTH_LOAD_FAIL],\n        promise: (client) => client.get('/auth/me')\n    }\n}\n\nexport function authToken(){\n    return {\n        types: [AUTH_TOKEN, AUTH_TOKEN_SUCCESS, AUTH_TOKEN_FAIL],\n        promise: (client) => client.get('/auth')\n    }\n}\n\nexport function login(values, token){\n    return {\n        types: [LOGIN, LOGIN_SUCCESS,  LOGIN_FAIL],\n        promise: (client) => client.post('/auth/login', {\n            data: values,\n            token: token,\n            authorization: 'Basic ' + btoa(values.email + ':' + values.password)\n        })\n    }\n}\n\nexport function logout(token){\n    return {\n        types: [LOGOUT, LOGOUT_SUCCESS, LOGOUT_FAIL],\n        promise: (client) => client.post('/auth/logout', {\n            token: token\n        })\n    }\n}"]}